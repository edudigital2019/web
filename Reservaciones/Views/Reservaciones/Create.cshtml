@model Reservaciones.Models.Entidades.ReservacionesModel

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="form-container">
    <h2>Registro de Reservación</h2>

    <div id="imprimir">
        <!-- Selección de cliente -->
        <table class="table-responsive table-bordered">
            <tr>
                <td>
                    <div class="form-group">
                        <label asp-for="ClienteId" class="control-label">Obtener Cliente</label>
                        <select asp-for="ClienteId" class="form-control"
                                asp-items="ViewBag.ClienteId" onchange="unCliente()">
                            <option value="">Seleccione un Cliente</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div class="form-group">
                        <label for="FechaReserva">Fecha de Reserva:</label>
                        <input type="datetime-local" id="FechaReserva" name="FechaReserva" class="form-control" required />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label for="Telefono">Teléfono</label>
                        <input type="text" id="Telefono" name="Telefono" class="form-control" disabled />
                    </div>
                </td>
                <td>
                    <div class="form-group">
                        <label for="Correo">Correo</label>
                        <input type="text" id="Correo" name="Correo" class="form-control" disabled />
                    </div>
                </td>
            </tr>
        </table>

        <!-- Evento seleccionado -->
        <h3>Evento Seleccionado</h3>
        <table id="eventosTable" class="table">
            <thead>
                <tr>
                    <th>Evento</th>
                    <th>Fecha</th>
                    <th>Ubicación</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
              
            </tbody>
        </table>
    </div>

  
        <button type="button" id="addEvento" class="btn btn-primary"
        data-bs-toggle="modal" data-bs-target="#modalEventos"
        onclick="Lista_Eventos()"> Seleccionar Evento</button>


    <div class="form-group mt-3">
        <button type="button" onclick="crear_reservacion()" class="btn btn-success">Guardar Reservación</button>
    </div>
</div>

<div class="mt-3">
    <a asp-action="Index">Volver al listado</a>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script src="~/js/reservaciones.js" asp-append-version="true"></script>
}


<div class="modal fade" id="modalEventos" tabindex="-1" aria-labelledby="Eventos" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Listado de Eventos</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nombre Evento</th>
                            <th>Fecha</th>
                            <th>Ubicación</th>
                            <th>Agregar</th>
                        </tr>
                    </thead>
                    <tbody id="lista_eventos">
                       
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal">
                    Cerrar
                </button>
            </div>
        </div>
    </div>
</div>
